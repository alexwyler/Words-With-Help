<style>
body {
  width: 300px;
  font-family: monospace;
}

.red {
  color: red;
}
</style>
<script src="jquery.js"></script>
<script>

function find() {

  chrome.extension.onRequest.addListener(
    function(request, sender, sendResponse) {

      console.log(request);
      for (var i = 0; i < 7; i++) {
        $("#rack_" + i).html(request.rack[i]);
      }

      for (var i = 0; i < 15; i++) {
        for (var j = 0; j < 15; j++) {
          var letter = request.board[j][i];
          letter = letter == null ? "_" : letter;
          $("#" + i + "_" + j).html(letter);
        }
      }

      $.ajax({
          url: "http://10.0.0.6:8080/WordsWithCheats/",
          type: "POST",
	  data: JSON.stringify(request),
          dataType: "json",
          beforeSend: function(x) {
            if (x && x.overrideMimeType) {
              x.overrideMimeType("application/j-son;charset=UTF-8");
            }
          },
          success: function(result) {
	      console.log(result);
              var move = result.options[0];
	      $("#points").html(move.score);
	      for (var i in move.plays) {
               $("#" + move.plays[i].y + "_" + move.plays[i].x).html(move.plays[i].letter).addClass("red");
              }
          }
	  });
  });

  chrome.tabs.executeScript(null,
      {allFrames: true, file:"iframe.js"});
}

</script>
<body>
<div id="points">???</div>
<div>
  <span id="0_0">_</span>
  <span id="0_1">_</span>
  <span id="0_2">_</span>
  <span id="0_3">_</span>
  <span id="0_4">_</span>
  <span id="0_5">_</span>
  <span id="0_6">_</span>
  <span id="0_7">_</span>
  <span id="0_8">_</span>
  <span id="0_9">_</span>
  <span id="0_10">_</span>
  <span id="0_11">_</span>
  <span id="0_12">_</span>
  <span id="0_13">_</span>
  <span id="0_14">_</span>
  <span id="0_15">_</span>
</div>

<div>
  <span id="1_0">_</span>
  <span id="1_1">_</span>
  <span id="1_2">_</span>
  <span id="1_3">_</span>
  <span id="1_4">_</span>
  <span id="1_5">_</span>
  <span id="1_6">_</span>
  <span id="1_7">_</span>
  <span id="1_8">_</span>
  <span id="1_9">_</span>
  <span id="1_10">_</span>
  <span id="1_11">_</span>
  <span id="1_12">_</span>
  <span id="1_13">_</span>
  <span id="1_14">_</span>
  <span id="1_15">_</span>
</div>

<div>
  <span id="2_0">_</span>
  <span id="2_1">_</span>
  <span id="2_2">_</span>
  <span id="2_3">_</span>
  <span id="2_4">_</span>
  <span id="2_5">_</span>
  <span id="2_6">_</span>
  <span id="2_7">_</span>
  <span id="2_8">_</span>
  <span id="2_9">_</span>
  <span id="2_10">_</span>
  <span id="2_11">_</span>
  <span id="2_12">_</span>
  <span id="2_13">_</span>
  <span id="2_14">_</span>
  <span id="2_15">_</span>
</div>

<div>
  <span id="3_0">_</span>
  <span id="3_1">_</span>
  <span id="3_2">_</span>
  <span id="3_3">_</span>
  <span id="3_4">_</span>
  <span id="3_5">_</span>
  <span id="3_6">_</span>
  <span id="3_7">_</span>
  <span id="3_8">_</span>
  <span id="3_9">_</span>
  <span id="3_10">_</span>
  <span id="3_11">_</span>
  <span id="3_12">_</span>
  <span id="3_13">_</span>
  <span id="3_14">_</span>
  <span id="3_15">_</span>
</div>

<div>
  <span id="4_0">_</span>
  <span id="4_1">_</span>
  <span id="4_2">_</span>
  <span id="4_3">_</span>
  <span id="4_4">_</span>
  <span id="4_5">_</span>
  <span id="4_6">_</span>
  <span id="4_7">_</span>
  <span id="4_8">_</span>
  <span id="4_9">_</span>
  <span id="4_10">_</span>
  <span id="4_11">_</span>
  <span id="4_12">_</span>
  <span id="4_13">_</span>
  <span id="4_14">_</span>
  <span id="4_15">_</span>
</div>

<div>
  <span id="5_0">_</span>
  <span id="5_1">_</span>
  <span id="5_2">_</span>
  <span id="5_3">_</span>
  <span id="5_4">_</span>
  <span id="5_5">_</span>
  <span id="5_6">_</span>
  <span id="5_7">_</span>
  <span id="5_8">_</span>
  <span id="5_9">_</span>
  <span id="5_10">_</span>
  <span id="5_11">_</span>
  <span id="5_12">_</span>
  <span id="5_13">_</span>
  <span id="5_14">_</span>
  <span id="5_15">_</span>
</div>

<div>
  <span id="6_0">_</span>
  <span id="6_1">_</span>
  <span id="6_2">_</span>
  <span id="6_3">_</span>
  <span id="6_4">_</span>
  <span id="6_5">_</span>
  <span id="6_6">_</span>
  <span id="6_7">_</span>
  <span id="6_8">_</span>
  <span id="6_9">_</span>
  <span id="6_10">_</span>
  <span id="6_11">_</span>
  <span id="6_12">_</span>
  <span id="6_13">_</span>
  <span id="6_14">_</span>
  <span id="6_15">_</span>
</div>

<div>
  <span id="7_0">_</span>
  <span id="7_1">_</span>
  <span id="7_2">_</span>
  <span id="7_3">_</span>
  <span id="7_4">_</span>
  <span id="7_5">_</span>
  <span id="7_6">_</span>
  <span id="7_7">_</span>
  <span id="7_8">_</span>
  <span id="7_9">_</span>
  <span id="7_10">_</span>
  <span id="7_11">_</span>
  <span id="7_12">_</span>
  <span id="7_13">_</span>
  <span id="7_14">_</span>
  <span id="7_15">_</span>
</div>

<div>
  <span id="8_0">_</span>
  <span id="8_1">_</span>
  <span id="8_2">_</span>
  <span id="8_3">_</span>
  <span id="8_4">_</span>
  <span id="8_5">_</span>
  <span id="8_6">_</span>
  <span id="8_7">_</span>
  <span id="8_8">_</span>
  <span id="8_9">_</span>
  <span id="8_10">_</span>
  <span id="8_11">_</span>
  <span id="8_12">_</span>
  <span id="8_13">_</span>
  <span id="8_14">_</span>
  <span id="8_15">_</span>
</div>

<div>
  <span id="9_0">_</span>
  <span id="9_1">_</span>
  <span id="9_2">_</span>
  <span id="9_3">_</span>
  <span id="9_4">_</span>
  <span id="9_5">_</span>
  <span id="9_6">_</span>
  <span id="9_7">_</span>
  <span id="9_8">_</span>
  <span id="9_9">_</span>
  <span id="9_10">_</span>
  <span id="9_11">_</span>
  <span id="9_12">_</span>
  <span id="9_13">_</span>
  <span id="9_14">_</span>
  <span id="9_15">_</span>
</div>

<div>
  <span id="10_0">_</span>
  <span id="10_1">_</span>
  <span id="10_2">_</span>
  <span id="10_3">_</span>
  <span id="10_4">_</span>
  <span id="10_5">_</span>
  <span id="10_6">_</span>
  <span id="10_7">_</span>
  <span id="10_8">_</span>
  <span id="10_9">_</span>
  <span id="10_10">_</span>
  <span id="10_11">_</span>
  <span id="10_12">_</span>
  <span id="10_13">_</span>
  <span id="10_14">_</span>
  <span id="10_15">_</span>
</div>

<div>
  <span id="11_0">_</span>
  <span id="11_1">_</span>
  <span id="11_2">_</span>
  <span id="11_3">_</span>
  <span id="11_4">_</span>
  <span id="11_5">_</span>
  <span id="11_6">_</span>
  <span id="11_7">_</span>
  <span id="11_8">_</span>
  <span id="11_9">_</span>
  <span id="11_10">_</span>
  <span id="11_11">_</span>
  <span id="11_12">_</span>
  <span id="11_13">_</span>
  <span id="11_14">_</span>
  <span id="11_15">_</span>
</div>

<div>
  <span id="12_0">_</span>
  <span id="12_1">_</span>
  <span id="12_2">_</span>
  <span id="12_3">_</span>
  <span id="12_4">_</span>
  <span id="12_5">_</span>
  <span id="12_6">_</span>
  <span id="12_7">_</span>
  <span id="12_8">_</span>
  <span id="12_9">_</span>
  <span id="12_10">_</span>
  <span id="12_11">_</span>
  <span id="12_12">_</span>
  <span id="12_13">_</span>
  <span id="12_14">_</span>
  <span id="12_15">_</span>
</div>

<div>
  <span id="13_0">_</span>
  <span id="13_1">_</span>
  <span id="13_2">_</span>
  <span id="13_3">_</span>
  <span id="13_4">_</span>
  <span id="13_5">_</span>
  <span id="13_6">_</span>
  <span id="13_7">_</span>
  <span id="13_8">_</span>
  <span id="13_9">_</span>
  <span id="13_10">_</span>
  <span id="13_11">_</span>
  <span id="13_12">_</span>
  <span id="13_13">_</span>
  <span id="13_14">_</span>
  <span id="13_15">_</span>
</div>

<div>
  <span id="14_0">_</span>
  <span id="14_1">_</span>
  <span id="14_2">_</span>
  <span id="14_3">_</span>
  <span id="14_4">_</span>
  <span id="14_5">_</span>
  <span id="14_6">_</span>
  <span id="14_7">_</span>
  <span id="14_8">_</span>
  <span id="14_9">_</span>
  <span id="14_10">_</span>
  <span id="14_11">_</span>
  <span id="14_12">_</span>
  <span id="14_13">_</span>
  <span id="14_14">_</span>
  <span id="14_15">_</span>
</div>

<div>
  <span id="15_0">_</span>
  <span id="15_1">_</span>
  <span id="15_2">_</span>
  <span id="15_3">_</span>
  <span id="15_4">_</span>
  <span id="15_5">_</span>
  <span id="15_6">_</span>
  <span id="15_7">_</span>
  <span id="15_8">_</span>
  <span id="15_9">_</span>
  <span id="15_10">_</span>
  <span id="15_11">_</span>
  <span id="15_12">_</span>
  <span id="15_13">_</span>
  <span id="15_14">_</span>
  <span id="15_15">_</span>
</div>

<div>
  <span id="rack_0">_</span>
  <span id="rack_1">_</span>
  <span id="rack_2">_</span>
  <span id="rack_3">_</span>
  <span id="rack_4">_</span>
  <span id="rack_5">_</span>
  <span id="rack_6">_</span>
</div>


<button onclick="find()" id="red">cheat like boss</button>

</body>
